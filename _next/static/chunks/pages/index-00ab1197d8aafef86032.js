(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3260:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return g},database:function(){return h},default:function(){return m}});var t=n(809),o=n.n(t),a=n(5893),d=n(2447),s=n(7294),i=n(5152),c=n(9008),l=n(8093),u=n(9669),f=n.n(u);var y=(0,i.default)((function(){return Promise.all([n.e(874),n.e(716)]).then(n.bind(n,111))}),{loadableGenerated:{webpack:function(){return[111]},modules:["index.tsx -> ../components/search-input"]}}),p=(0,i.default)((function(){return Promise.all([n.e(874),n.e(424)]).then(n.bind(n,6033))}),{loadableGenerated:{webpack:function(){return[6033]},modules:["index.tsx -> ../components/database/database-table"]}}),B=(0,i.default)((function(){return n.e(509).then(n.bind(n,1509))}),{loadableGenerated:{webpack:function(){return[1509]},modules:["index.tsx -> ../components/show-more"]}}),b=(0,i.default)((function(){return n.e(523).then(n.bind(n,9523))}),{loadableGenerated:{webpack:function(){return[9523]},modules:["index.tsx -> ../components/show-more-filters"]}}),v=(0,i.default)((function(){return n.e(2).then(n.bind(n,4002))}),{loadableGenerated:{webpack:function(){return[4002]},modules:["index.tsx -> ../components/tags"]}}),g=!0;function h(){return D.apply(this,arguments)}function D(){return(D=(0,d.Z)(o().mark((function e(){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().get("https://server-exd.herokuapp.com/database");case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){var r=e.database,n=(0,l.Z)(),t=n.filteredDatabase,o=n.loadDatabase;(0,s.useEffect)((function(){return o(r)}),[r,o]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.default,{children:(0,a.jsx)("title",{children:"CEFIR - Accueil"})}),(0,a.jsx)("div",{className:"container max-w-xl",children:(0,a.jsxs)("div",{className:"mt-2xl mb-lg",children:[(0,a.jsxs)("h3",{children:[(0,a.jsxs)("span",{role:"img","aria-label":"Un pictogramme de recherche",children:["\ud83d\udd0d"," "]}),"Rechercher - ",0==(null===t||void 0===t?void 0:t.length)?0:t.length," ","r\xe9sultats"]}),(0,a.jsx)("p",{className:"mt-md mb-lg","aria-label":"Informations sur la recherche",children:"Par d\xe9faut, la recherche va inclure toutes les colonnes. Vous pouvez cliquer sur les balises pour les exclure."}),(0,a.jsx)(v,{}),(0,a.jsx)(y,{className:"mt-md"}),(0,a.jsx)(B,{}),(0,a.jsx)(b,{}),(0,a.jsx)(p,{database:t.slice(0,50),className:"mb-2xl"})]})})]})}},8093:function(e,r,n){"use strict";n.d(r,{Z:function(){return u}});var t=n(6265),o=n(4671),a=n(6486);function d(e){var r=e.database,n=e.searchValue,t=e.date,o=e.degreViolence,d=e.evenement,s=e.groupeImplique,i=e.type;return r.filter((function(e){var r=(0,a.deburr)(e.evenement.toLowerCase()),c=(0,a.deburr)(e.groupeImplique.toLowerCase()),l=(0,a.deburr)(e.degreViolence.toLowerCase()),u=(0,a.deburr)(e.date.toLowerCase()),f=(0,a.deburr)(e.type.toLowerCase()),y=(0,a.trim)((0,a.deburr)(n.toLowerCase())),p=y.split(",");return p.length>1?p.map((function(e){return d&&r.includes((0,a.trim)(e))||s&&c.includes((0,a.trim)(e))||o&&l.includes((0,a.trim)(e))||t&&u.includes((0,a.trim)(e))||i&&f.includes((0,a.trim)(e))})).reduce((function(e,r){return e&&r})):d&&r.includes(y)||s&&c.includes(y)||o&&l.includes(y)||t&&u.includes(y)||i&&f.includes(y)}))}var s=function(e,r){return{database:[],filteredDatabase:[],loadDatabase:function(r){e({database:r,filteredDatabase:r})},filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,toggleFilterByDate:function(){return e({filterByDate:!r().filterByDate})},toggleFilterByType:function(){return e({filterByType:!r().filterByType})},toggleFilterByDegreeOfViolence:function(){return e({filterByDegreeOfViolence:!r().filterByDegreeOfViolence})},toggleFilterByGroupsInvolved:function(){return e({filterByGroupsInvolved:!r().filterByGroupsInvolved})},toggleFilterByEvents:function(){return e({filterByEvents:!r().filterByEvents})},filterSearch:"",handleFilterSearch:function(e){r().setFilterSearch(e.target.value)},setFilterSearch:function(r){e({filterSearch:r})},filterDatabase:function(r){e({filteredDatabase:d(r)})},orderDatabase:function(){var n=[],t=[];"none"!==r().orderByDate&&n.push((function(e){return"none"!==r().orderByDegreeOfViolence?new Date(e.date).getFullYear():e.date}))&&t.push(r().orderByDate),"none"!==r().orderByType&&n.push("type")&&t.push(r().orderByType),"none"!==r().orderByEvents&&n.push("evenement")&&t.push(r().orderByEvents),"none"!==r().orderByGroupsInvolved&&n.push("groupeImplique")&&t.push(r().orderByGroupsInvolved),"none"!==r().orderByDegreeOfViolence&&n.push((function(e){return e.degreViolence.replace(/.*\(/gim,"")}))&&t.push(r().orderByDegreeOfViolence),n.length<=0&&t.length<=0?e({filteredDatabase:d({database:r().database,searchValue:r().filterSearch,evenement:r().filterByEvents,date:r().filterByDate,degreViolence:r().filterByDegreeOfViolence,groupeImplique:r().filterByGroupsInvolved,type:r().filterByType})}):e({filteredDatabase:(0,a.orderBy)(r().filteredDatabase,n,t)})},orderByDate:"none",toggleOrderByDate:function(){var n=r().orderByDate;"none"===n?(e({orderByDate:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByDate:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByDate:"none"}),r().orderDatabase())},orderByType:"none",toggleOrderByType:function(){var n=r().orderByType;"none"===n?(e({orderByType:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByType:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByType:"none"}),r().orderDatabase())},orderByDegreeOfViolence:"none",toggleOrderByDegreeOfViolence:function(){var n=r().orderByDegreeOfViolence;"none"===n?(e({orderByDegreeOfViolence:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByDegreeOfViolence:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByDegreeOfViolence:"none"}),r().orderDatabase())},orderByGroupsInvolved:"none",toggleOrderByGroupsInvolved:function(){var n=r().orderByGroupsInvolved;"none"===n?(e({orderByGroupsInvolved:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByGroupsInvolved:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByGroupsInvolved:"none"}),r().orderDatabase())},orderByEvents:"none",toggleOrderByEvents:function(){var n=r().orderByEvents;"none"===n?(e({orderByEvents:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByEvents:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByEvents:"none"}),r().orderDatabase())},orderIncidentByYear:"none",toggleOrderIncidentByYear:function(){var n=r().orderIncidentByYear;"none"===n?e({orderIncidentByYear:"desc"}):"desc"===n?e({orderIncidentByYear:"asc"}):"asc"===n&&e({orderIncidentByYear:"none"})},orderYearByIncident:"none",toggleOrderYearByIncident:function(){var n=r().orderYearByIncident;"none"===n?e({orderYearByIncident:"desc"}):"desc"===n?e({orderYearByIncident:"asc"}):"asc"===n&&e({orderYearByIncident:"none"})},orderIncidentByGroup:"none",toggleOrderIncidentByGroup:function(){var n=r().orderIncidentByGroup;"none"===n?e({orderIncidentByGroup:"desc"}):"desc"===n?e({orderIncidentByGroup:"asc"}):"asc"===n&&e({orderIncidentByGroup:"none"})},orderGroupByIncident:"none",toggleOrderGroupByIncident:function(){var n=r().orderGroupByIncident;"none"===n?e({orderGroupByIncident:"desc"}):"desc"===n?e({orderGroupByIncident:"asc"}):"asc"===n&&e({orderGroupByIncident:"none"})},resetFilters:function(){e({filterSearch:"",filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,filteredDatabase:r().database})},showMoreFilters:!1,toggleShowMoreFilters:function(){e({showMoreFilters:!r().showMoreFilters})}}},i=function(e,r){return{isDark:!1,toggleDarkMode:function(){e({isDark:!r().isDark})}}};function c(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?c(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var u=(0,o.Z)((function(e,r){return l(l({},s(e,r)),i(e,r))}))},5301:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3260)}])}},function(e){e.O(0,[662,322,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);