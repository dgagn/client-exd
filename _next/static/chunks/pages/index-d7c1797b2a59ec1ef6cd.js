(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{876:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return x},database:function(){return B},default:function(){return j}});var n=r(809),a=r.n(n),i=r(5893),l=r(2447),o=r(7294),u=r(5152),s=r(9008),c=r(347),f=r(9669),d=r.n(f),b=r(8767);function p(){return(0,b.useQuery)("database",B,{staleTime:3e4}).data||[]}var m=r(6486);var h=(0,u.default)((function(){return Promise.all([r.e(874),r.e(716)]).then(r.bind(r,111))}),{loadableGenerated:{webpack:function(){return[111]},modules:["index.tsx -> ../components/search-input"]}}),y=(0,u.default)((function(){return r.e(33).then(r.bind(r,6033))}),{loadableGenerated:{webpack:function(){return[6033]},modules:["index.tsx -> ../components/database/database-table"]}}),v=(0,u.default)((function(){return r.e(509).then(r.bind(r,1509))}),{loadableGenerated:{webpack:function(){return[1509]},modules:["index.tsx -> ../components/show-more"]}}),g=(0,u.default)((function(){return r.e(523).then(r.bind(r,9523))}),{loadableGenerated:{webpack:function(){return[9523]},modules:["index.tsx -> ../components/show-more-filters"]}}),w=(0,u.default)((function(){return r.e(147).then(r.bind(r,3147))}),{loadableGenerated:{webpack:function(){return[3147]},modules:["index.tsx -> ../components/tags"]}}),x=!0;function B(){return D.apply(this,arguments)}function D(){return(D=(0,l.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get("https://server-exd.herokuapp.com/database");case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){var e=(0,c.Z)((0,o.useCallback)((function(e){return e.filteredDatabase}),[])),t=(0,c.Z)((function(e){return e.loadDatabase})),r=p();(0,o.useEffect)((function(){return t(r)}),[r,t]);!function(){var e=(0,c.Z)(),t=e.filterByEvents,r=e.filterByType,n=e.filterByDate,a=e.filterSearch,i=e.filterByGroupsInvolved,l=e.filterByDegreeOfViolence,u=e.filterDatabase,s=e.database,f=e.filteredDatabase,d=(0,o.useCallback)((0,m.debounce)((function(){u({type:r,groupeImplique:i,date:n,searchValue:a,evenement:t,degreViolence:l,database:s}),console.log(f)}),300),[a,n,r,t,i,l,s]);(0,o.useEffect)((function(){d()}),[d])}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.default,{children:(0,i.jsx)("title",{children:"CEFIR - M\xe9thodologie"})}),(0,i.jsx)("div",{className:"container max-w-xl",children:(0,i.jsxs)("div",{className:"mt-2xl mb-lg",children:[(0,i.jsxs)("h3",{children:[(0,i.jsxs)("span",{role:"img","aria-label":"Un pictogramme de recherche",children:["\ud83d\udd0d"," "]}),"Rechercher - ",null===e||void 0===e?void 0:e.length," r\xe9sultats"]}),(0,i.jsx)("p",{className:"mt-md mb-lg","aria-label":"Informations sur la recherche",children:"Par d\xe9faut, la recherche va inclure toutes les colonnes. Vous pouvez cliquer sur les balises pour les exclure."}),(0,i.jsx)(w,{}),(0,i.jsx)(h,{className:"mt-md"}),(0,i.jsx)("div",{className:"mt-sm mb-lg",children:"Date"}),(0,i.jsx)(v,{}),(0,i.jsx)(g,{}),(0,i.jsx)(y,{database:e.slice(0,50),className:"mb-2xl"})]})})]})}},347:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(6265),a=r(4671),i=r(6486);function l(e){var t=e.database,r=e.searchValue,n=e.date,a=e.degreViolence,l=e.evenement,o=e.groupeImplique,u=e.type;return t.filter((function(e){var t=(0,i.deburr)(e.evenement.toLowerCase()),s=(0,i.deburr)(e.groupeImplique.toLowerCase()),c=(0,i.deburr)(e.degreViolence.toLowerCase()),f=(0,i.deburr)(e.date.toLowerCase()),d=(0,i.deburr)(e.type.toLowerCase()),b=(0,i.trim)((0,i.deburr)(r.toLowerCase())),p=b.split(",");return p.length>1?p.map((function(e){return l&&t.includes((0,i.trim)(e))||o&&s.includes((0,i.trim)(e))||a&&c.includes((0,i.trim)(e))||n&&f.includes((0,i.trim)(e))||u&&d.includes((0,i.trim)(e))})).reduce((function(e,t){return e&&t})):l&&t.includes(b)||o&&s.includes(b)||a&&c.includes(b)||n&&f.includes(b)||u&&d.includes(b)}))}var o=function(e,t){return{database:[],filteredDatabase:[],loadDatabase:function(t){e({database:t,filteredDatabase:t})},filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,toggleFilterByDate:function(){return e({filterByDate:!t().filterByDate})},toggleFilterByType:function(){return e({filterByType:!t().filterByType})},toggleFilterByDegreeOfViolence:function(){return e({filterByDegreeOfViolence:!t().filterByDegreeOfViolence})},toggleFilterByGroupsInvolved:function(){return e({filterByGroupsInvolved:!t().filterByGroupsInvolved})},toggleFilterByEvents:function(){return e({filterByEvents:!t().filterByEvents})},filterSearch:"",handleFilterSearch:function(t){e({filterSearch:t.target.value})},filterDatabase:function(t){e({filteredDatabase:l(t)})},resetFilters:function(){e({filterSearch:"",filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,filteredDatabase:t().database})},showMoreFilters:!1,toggleShowMoreFilters:function(){e({showMoreFilters:!t().showMoreFilters})}}};function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var s=(0,a.Z)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o(e,t))}))},5301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(876)}])}},function(e){e.O(0,[662,322,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);