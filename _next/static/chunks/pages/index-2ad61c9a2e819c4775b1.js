(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3260:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return p},default:function(){return B}});var t=n(5893),o=n(7294),a=n(5152),c=n(9008),s=n(6986),i=n(6486);var d=(0,a.default)((function(){return Promise.all([n.e(874),n.e(716)]).then(n.bind(n,111))}),{loadableGenerated:{webpack:function(){return[111]},modules:["index.tsx -> ../components/search-input"]}}),u=(0,a.default)((function(){return Promise.all([n.e(874),n.e(424)]).then(n.bind(n,6033))}),{loadableGenerated:{webpack:function(){return[6033]},modules:["index.tsx -> ../components/database/database-table"]}}),l=(0,a.default)((function(){return n.e(509).then(n.bind(n,1509))}),{loadableGenerated:{webpack:function(){return[1509]},modules:["index.tsx -> ../components/show-more"]}}),f=(0,a.default)((function(){return n.e(523).then(n.bind(n,9523))}),{loadableGenerated:{webpack:function(){return[9523]},modules:["index.tsx -> ../components/show-more-filters"]}}),y=(0,a.default)((function(){return n.e(2).then(n.bind(n,4002))}),{loadableGenerated:{webpack:function(){return[4002]},modules:["index.tsx -> ../components/tags"]}}),p=!0;function B(e){var r=e.database,n=(0,s.Z)(),a=n.filteredDatabase,p=n.loadDatabase;(0,o.useEffect)((function(){return p(r)}),[r,p]);!function(){var e=(0,s.Z)(),r=e.filterByEvents,n=e.filterByType,t=e.filterByDate,a=e.filterSearch,c=e.filterByGroupsInvolved,d=e.filterByDegreeOfViolence,u=e.filterDatabase,l=e.database,f=e.filteredDatabase,y=(0,o.useCallback)((0,i.debounce)((function(){u({type:n,groupeImplique:c,date:t,searchValue:a,evenement:r,degreViolence:d,database:l}),console.log(f)}),300),[a,t,n,r,c,d,l]);(0,o.useEffect)((function(){y()}),[y])}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.default,{children:(0,t.jsx)("title",{children:"CEFIR - Accueil"})}),(0,t.jsx)("div",{className:"container max-w-xl",children:(0,t.jsxs)("div",{className:"mt-2xl mb-lg",children:[(0,t.jsxs)("h3",{children:[(0,t.jsxs)("span",{role:"img","aria-label":"Un pictogramme de recherche",children:["\ud83d\udd0d"," "]}),"Rechercher - ",0==(null===a||void 0===a?void 0:a.length)?0:a.length," ","r\xe9sultats"]}),(0,t.jsx)("p",{className:"mt-md mb-lg","aria-label":"Informations sur la recherche",children:"Par d\xe9faut, la recherche va inclure toutes les colonnes. Vous pouvez cliquer sur les balises pour les exclure."}),(0,t.jsx)(y,{}),(0,t.jsx)(d,{className:"mt-md"}),(0,t.jsx)(l,{}),(0,t.jsx)(f,{}),(0,t.jsx)(u,{database:a.slice(0,50),className:"mb-2xl"})]})})]})}},6986:function(e,r,n){"use strict";n.d(r,{Z:function(){return p}});var t=n(6265),o=n(7294);function a(e){let r;const n=new Set,t=(e,t)=>{const o="function"===typeof e?e(r):e;if(o!==r){const e=r;r=t?o:Object.assign({},r,o),n.forEach((n=>n(r,e)))}},o=()=>r,a={setState:t,getState:o,subscribe:(e,t,a)=>t||a?((e,t=o,a=Object.is)=>{let c=t(r);function s(){const n=t(r);if(!a(c,n)){const r=c;e(c=n,r)}}return n.add(s),()=>n.delete(s)})(e,t,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return r=e(t,o,a),a}const c="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?o.useEffect:o.useLayoutEffect;var s=function(e){const r="function"===typeof e?a(e):e,n=(e=r.getState,n=Object.is)=>{const[,t]=(0,o.useReducer)((e=>e+1),0),a=r.getState(),s=(0,o.useRef)(a),i=(0,o.useRef)(e),d=(0,o.useRef)(n),u=(0,o.useRef)(!1),l=(0,o.useRef)();let f;void 0===l.current&&(l.current=e(a));let y=!1;(s.current!==a||i.current!==e||d.current!==n||u.current)&&(f=e(a),y=!n(l.current,f)),c((()=>{y&&(l.current=f),s.current=a,i.current=e,d.current=n,u.current=!1}));const p=(0,o.useRef)(a);return c((()=>{const e=()=>{try{const e=r.getState(),n=i.current(e);d.current(l.current,n)||(s.current=e,l.current=n,t())}catch(e){u.current=!0,t()}},n=r.subscribe(e);return r.getState()!==p.current&&e(),n}),[]),y?f:l.current};return Object.assign(n,r),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,r];return{next(){const r=e.length<=0;return{value:e.shift(),done:r}}}},n},i=n(6486);function d(e){var r=e.database,n=e.searchValue,t=e.date,o=e.degreViolence,a=e.evenement,c=e.groupeImplique,s=e.type;return r.filter((function(e){var r=(0,i.deburr)(e.evenement.toLowerCase()),d=(0,i.deburr)(e.groupeImplique.toLowerCase()),u=(0,i.deburr)(e.degreViolence.toLowerCase()),l=(0,i.deburr)(e.date.toLowerCase()),f=(0,i.deburr)(e.type.toLowerCase()),y=(0,i.trim)((0,i.deburr)(n.toLowerCase())),p=y.split(",");return p.length>1?p.map((function(e){return a&&r.includes((0,i.trim)(e))||c&&d.includes((0,i.trim)(e))||o&&u.includes((0,i.trim)(e))||t&&l.includes((0,i.trim)(e))||s&&f.includes((0,i.trim)(e))})).reduce((function(e,r){return e&&r})):a&&r.includes(y)||c&&d.includes(y)||o&&u.includes(y)||t&&l.includes(y)||s&&f.includes(y)}))}var u=function(e,r){return{database:[],filteredDatabase:[],loadDatabase:function(r){e({database:r,filteredDatabase:r})},filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,toggleFilterByDate:function(){return e({filterByDate:!r().filterByDate})},toggleFilterByType:function(){return e({filterByType:!r().filterByType})},toggleFilterByDegreeOfViolence:function(){return e({filterByDegreeOfViolence:!r().filterByDegreeOfViolence})},toggleFilterByGroupsInvolved:function(){return e({filterByGroupsInvolved:!r().filterByGroupsInvolved})},toggleFilterByEvents:function(){return e({filterByEvents:!r().filterByEvents})},filterSearch:"",handleFilterSearch:function(e){r().setFilterSearch(e.target.value)},setFilterSearch:function(r){e({filterSearch:r})},filterDatabase:function(r){e({filteredDatabase:d(r)})},orderDatabase:function(){var n=[],t=[];"none"!==r().orderByDate&&n.push((function(e){return"none"!==r().orderByDegreeOfViolence?new Date(e.date).getFullYear():e.date}))&&t.push(r().orderByDate),"none"!==r().orderByType&&n.push("type")&&t.push(r().orderByType),"none"!==r().orderByEvents&&n.push("evenement")&&t.push(r().orderByEvents),"none"!==r().orderByGroupsInvolved&&n.push("groupeImplique")&&t.push(r().orderByGroupsInvolved),"none"!==r().orderByDegreeOfViolence&&n.push((function(e){return e.degreViolence.replace(/.*\(/gim,"")}))&&t.push(r().orderByDegreeOfViolence),n.length<=0&&t.length<=0?e({filteredDatabase:d({database:r().database,searchValue:r().filterSearch,evenement:r().filterByEvents,date:r().filterByDate,degreViolence:r().filterByDegreeOfViolence,groupeImplique:r().filterByGroupsInvolved,type:r().filterByType})}):e({filteredDatabase:(0,i.orderBy)(r().filteredDatabase,n,t)})},orderByDate:"none",toggleOrderByDate:function(){var n=r().orderByDate;"none"===n?(e({orderByDate:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByDate:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByDate:"none"}),r().orderDatabase())},orderByType:"none",toggleOrderByType:function(){var n=r().orderByType;"none"===n?(e({orderByType:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByType:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByType:"none"}),r().orderDatabase())},orderByDegreeOfViolence:"none",toggleOrderByDegreeOfViolence:function(){var n=r().orderByDegreeOfViolence;"none"===n?(e({orderByDegreeOfViolence:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByDegreeOfViolence:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByDegreeOfViolence:"none"}),r().orderDatabase())},orderByGroupsInvolved:"none",toggleOrderByGroupsInvolved:function(){var n=r().orderByGroupsInvolved;"none"===n?(e({orderByGroupsInvolved:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByGroupsInvolved:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByGroupsInvolved:"none"}),r().orderDatabase())},orderByEvents:"none",toggleOrderByEvents:function(){var n=r().orderByEvents;"none"===n?(e({orderByEvents:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByEvents:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByEvents:"none"}),r().orderDatabase())},orderIncidentByYear:"none",toggleOrderIncidentByYear:function(){var n=r().orderIncidentByYear;"none"===n?e({orderIncidentByYear:"desc"}):"desc"===n?e({orderIncidentByYear:"asc"}):"asc"===n&&e({orderIncidentByYear:"none"})},orderYearByIncident:"none",toggleOrderYearByIncident:function(){var n=r().orderYearByIncident;"none"===n?e({orderYearByIncident:"desc"}):"desc"===n?e({orderYearByIncident:"asc"}):"asc"===n&&e({orderYearByIncident:"none"})},orderIncidentByGroup:"none",toggleOrderIncidentByGroup:function(){var n=r().orderIncidentByGroup;"none"===n?e({orderIncidentByGroup:"desc"}):"desc"===n?e({orderIncidentByGroup:"asc"}):"asc"===n&&e({orderIncidentByGroup:"none"})},orderGroupByIncident:"none",toggleOrderGroupByIncident:function(){var n=r().orderGroupByIncident;"none"===n?e({orderGroupByIncident:"desc"}):"desc"===n?e({orderGroupByIncident:"asc"}):"asc"===n&&e({orderGroupByIncident:"none"})},resetFilters:function(){e({filterSearch:"",filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,filteredDatabase:r().database})},showMoreFilters:!1,toggleShowMoreFilters:function(){e({showMoreFilters:!r().showMoreFilters})}}},l=function(e,r){return{isDark:!1,toggleDarkMode:function(){e({isDark:!r().isDark})}}};function f(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?f(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var p=s((function(e,r){return y(y({},u(e,r)),l(e,r))}))},5301:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3260)}])}},function(e){e.O(0,[662,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);