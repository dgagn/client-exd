(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{908:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(5893),s=(t(7294),t(4184)),o=t.n(s);function a(e){var r=e.children,t=e.onClick,s=e.isSelected,a=o()("rounded px-sm py-xs tag pointer",{"tag--selected":!s});return(0,n.jsx)("li",{"aria-label":"Tag pour exclure ".concat(r),className:"mb-sm",children:(0,n.jsx)("button",{onClick:t,className:a,children:r})})}},1576:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return D},default:function(){return j}});var n=t(5893),s=t(7294),o=t(1664),a=t(7484),i=t.n(a),l=t(7989),c=t.n(l),u=t(908),d=t(4184),f=t.n(d),p=t(7856),y=t.n(p),v=t(6411),b=t(374),g=t(9008),m=t(8834),B=t(7516),h=function(e){return{filteredDatabase:e.filteredDatabase,setId:e.setId}},x=function(e){return{setPersistantViewedIds:e.setPersistantViewedIds,toggleBookmarkId:e.toggleBookmarkId}},D=!0;function j(e){var r=e.entry,t=(0,s.useState)(null),a=t[0],l=t[1],d=(0,v.Z)(h,b.Z),p=d.filteredDatabase,D=d.setId,j=(0,m.Z)(x,b.Z),w=j.setPersistantViewedIds,O=j.toggleBookmarkId,E=(0,s.useState)(null),I=E[0],S=E[1],G=(0,s.useState)(null),_=G[0],N=G[1];(0,s.useEffect)((function(){var e=p.findIndex((function(e){return e._id===r._id})),t=p[e+1],n=p[e-1],s=t&&p[e+1]._id,o=n&&p[e-1]._id;S(s||null),N(o||null),D(r._id),w(r._id)}),[p,r._id]);var V=f()("",{"text-success-800":r.degreViolence.includes("Aucune"),"text-warning-800":r.degreViolence.includes("faible"),"text-caution-800":r.degreViolence.includes("moyenne"),"text-error-800":r.degreViolence.includes("\xc9lev\xe9e")}),F=f()("circle","mr-sm",{"bg-success-500":r.degreViolence.includes("Aucune"),"bg-warning-500":r.degreViolence.includes("faible"),"bg-caution-500":r.degreViolence.includes("moyenne"),"bg-error-500":r.degreViolence.includes("\xc9lev\xe9e")}),T=r.source.match(/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/gim);(0,s.useEffect)((function(){var e=r.source;T&&T.forEach((function(r){e=e.replace(r,'<a href="'.concat(r,'" target="_blank" rel="noreferrer" class="text-bg-fx text-bg-fx--scale-y">').concat(r,"</a>"))}));var t=y()(window);l({__html:t.sanitize(e,{ADD_ATTR:["target"]})})}),[]);var k=(0,s.useCallback)((function(e){!function(){var e="",r=document.activeElement,t=r?r.tagName.toLowerCase():null;"textarea"==t||"input"==t&&/^(?:text|search|password|tel|url)$/i.test(r.type)&&"number"==typeof r.selectionStart?e=r.value.slice(r.selectionStart,r.selectionEnd):window.getSelection&&(e=window.getSelection().toString())}()}),[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.default,{children:(0,n.jsxs)("title",{children:["\xc9v\xe9nement - ",r.evenement]})}),(0,n.jsx)("div",{className:"p-xl mt-lg bg-article text-center",children:(0,n.jsxs)("div",{className:"blur p-xl max-w-md mx-auto my-auto text-contrast-50 bg-blur",children:[(0,n.jsx)("h2",{className:"text-contrast-50",children:r.evenement}),(0,n.jsx)("p",{className:"text-contrast-50 mt-sm text-center",children:i()(r.date).locale(c()).format("le D MMMM, YYYY")})]})}),(0,n.jsx)("div",{className:"container max-w-xl",children:(0,n.jsx)("div",{className:"mt-2xl mb-2xl",children:(0,n.jsxs)("div",{className:"max-w-prose mx-auto",children:[(0,n.jsxs)("div",{className:"flex space-between gap-y-md mb-2xl",children:[_?(0,n.jsx)(o.default,{href:"/evenement/".concat(_),passHref:!0,children:(0,n.jsx)("button",{className:"button-reset text-bg-fx text-bg-fx--scale-y",children:(0,n.jsxs)("span",{className:"flex align-center",children:[(0,n.jsx)(B.gbs,{className:"mr-3xs color-icon"})," ","Pr\xe9c\xe9dent"]})})}):(0,n.jsx)("div",{}),I&&(0,n.jsx)(o.default,{href:"/evenement/".concat(I),passHref:!0,children:(0,n.jsx)("button",{className:"button-reset text-bg-fx text-bg-fx--scale-y",children:(0,n.jsxs)("span",{className:"flex align-center",children:["Suivant ",(0,n.jsx)(B.lU2,{className:"ml-3xs color-icon"})]})})})]}),(0,n.jsx)(o.default,{href:"/",passHref:!0,children:(0,n.jsx)("button",{className:"button-reset text-bg-fx text-bg-fx--scale-y",children:"Retour \xe0 l'accueil"})}),(0,n.jsx)("div",{children:(0,n.jsxs)("select",{name:"",id:"",children:[(0,n.jsx)("option",{value:"",children:"Favoris"}),(0,n.jsx)("option",{value:"",children:"Test"})]})}),(0,n.jsx)("button",{onClick:function(){return O(r._id)},className:"button-reset text-bg-fx text-bg-fx--scale-y",children:"Bookmark"}),(0,n.jsx)("p",{className:"mt-lg",onMouseUpCapture:k,children:r.description}),(0,n.jsx)("ul",{className:"flex gap-x-md flex-wrap mt-md",children:r.groupeImplique.split("\n").map((function(e){return(0,n.jsx)(u.Z,{onClick:function(){},isSelected:!0,children:e},e)}))}),(0,n.jsxs)("div",{className:"my-sm",children:[r.type,""!==r.typeCrime?" / ".concat(r.typeCrime):null]}),(0,n.jsxs)("div",{className:V,children:[(0,n.jsx)("div",{className:F}),r.degreViolence]}),(0,n.jsx)("div",{className:"mt-sm",dangerouslySetInnerHTML:a})]})})})]})}},6411:function(e,r,t){"use strict";t.d(r,{Z:function(){return f}});var n=t(6265),s=t(4671);var o=t(6486);function a(e,r){return{database:[],filteredDatabase:[],databaseByGroups:[],filteredDatabaseByGroups:[],setDatabaseByGroups:function(r){var t=function(e){return(0,o.uniq)((0,o.flatten)(e.map((function(e){return e.groupeImplique.split("\n")}))).map((function(e){return(0,o.trim)(e)})))}(r).map((function(e){return{data:(0,o.orderBy)(r.filter((function(r){return r.groupeImplique.includes(e)})),"data").length,label:e}}));e({databaseByGroups:t})},loadDatabase:function(r){return e({database:r,filteredDatabase:r})}}}function i(e){var r=e.database,t=e.filterSearch,n=e.date,s=e.degreeOfViolence,a=e.events,i=e.groupsInvolved,l=e.type;return r.filter((function(e){var r=(0,o.deburr)(e.evenement.toLowerCase()),c=(0,o.deburr)(e.groupeImplique.toLowerCase()),u=(0,o.deburr)(e.degreViolence.toLowerCase()),d=(0,o.deburr)(e.date.toLowerCase()),f=(0,o.deburr)(e.type.toLowerCase()),p=(0,o.trim)((0,o.deburr)(t.toLowerCase())),y=p.split(","),v=p.startsWith("!"),b=v?p.replace("!",""):p;return""===b||(y.length>1?y.map((function(e){var t=(0,o.deburr)((0,o.trim)(e)),p=t.startsWith("!"),y=p?t.replace("!",""):t;return""===y||(p?!r.includes(y)&&!c.includes(y)&&!u.includes(y)&&!d.includes(y)&&!f.includes(y):a&&r.includes(y)||i&&c.includes(y)||s&&u.includes(y)||n&&d.includes(y)||l&&f.includes(y))})).reduce((function(e,r){return e&&r})):v?!r.includes(b)&&!c.includes(b)&&!u.includes(b)&&!d.includes(b)&&!f.includes(b):a&&r.includes(b)||i&&c.includes(b)||s&&u.includes(b)||n&&d.includes(b)||l&&f.includes(b))}))}var l=t(7484),c=t.n(l);function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var f=(0,s.Z)((function(e,r){return d(d(d(d(d(d(d({},function(e,r){return{filterSearch:"",setFilterSearch:function(r){e({filterSearch:r})},handleFilterSearch:function(e){r().setFilterSearch(e.target.value)},groupsFilterSearch:"",setGroupsFilterSearch:function(r){e({groupsFilterSearch:r})},handleGroupsFilterSearch:function(e){r().setGroupsFilterSearch(e.target.value)}}}(e,r)),a(e)),function(e,r){return{filterByDate:!0,filterByDegreeOfViolence:!0,filterByEvents:!0,filterByGroupsInvolved:!0,filterByType:!0,toggleFilterByDate:function(){return e({filterByDate:!r().filterByDate})},toggleFilterByDegreeOfViolence:function(){return e({filterByDegreeOfViolence:!r().filterByDegreeOfViolence})},toggleFilterByEvents:function(){return e({filterByEvents:!r().filterByEvents})},toggleFilterByGroupsInvolved:function(){return e({filterByGroupsInvolved:!r().filterByGroupsInvolved})},toggleFilterByType:function(){return e({filterByType:!r().filterByType})},filterDatabase:function(t){return e({filteredDatabase:r().orderDatabase(i(t))})},filterSubDatabase:function(){var t=r().groupsFilterSearch,n=r().databaseByGroups.filter((function(e){var r=(0,o.deburr)((0,o.trim)(e.label.toLowerCase())),n=(0,o.deburr)((0,o.trim)(t.toLowerCase()));return r.includes(n)}));e({filteredDatabaseByGroups:r().orderSubDatabase(n)})}}}(e,r)),function(e,r){return{resetFilters:function(){e({filterSearch:"",filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,filteredDatabase:r().database,orderByDate:"none",orderByEvents:"none",orderByType:"none",orderByDegreeOfViolence:"none",orderByGroupsInvolved:"none"})}}}(e,r)),function(e,r){return{showMoreFilters:!1,toggleShowMoreFilters:function(){return e({showMoreFilters:!r().showMoreFilters})}}}(e,r)),function(e,r){return{orderByDate:"none",toggleOrderByDate:function(){e({orderByDate:"none"===r().orderByDate?"desc":"desc"===r().orderByDate?"asc":(r().orderByDate,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByDegreeOfViolence:"none",toggleOrderByDegreeOfViolence:function(){e({orderByDegreeOfViolence:"none"===r().orderByDegreeOfViolence?"desc":"desc"===r().orderByDegreeOfViolence?"asc":(r().orderByDegreeOfViolence,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByEvents:"none",toggleOrderByEvents:function(){e({orderByEvents:"none"===r().orderByEvents?"desc":"desc"===r().orderByEvents?"asc":(r().orderByEvents,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByGroupsInvolved:"none",toggleOrderByGroupsInvolved:function(){e({orderByGroupsInvolved:"none"===r().orderByGroupsInvolved?"desc":"desc"===r().orderByGroupsInvolved?"asc":(r().orderByGroupsInvolved,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByType:"none",toggleOrderByType:function(){e({orderByType:"none"===r().orderByType?"desc":"desc"===r().orderByType?"asc":(r().orderByType,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderEventsByGroupsInvolved:"none",toggleOrderEventsByGroupsInvolved:function(){e({orderEventsByGroupsInvolved:"none"===r().orderEventsByGroupsInvolved?"desc":"desc"===r().orderEventsByGroupsInvolved?"asc":(r().orderEventsByGroupsInvolved,"none")}),e({filteredDatabaseByGroups:r().orderSubDatabase(r().filteredDatabaseByGroups)})},orderEventsByData:"none",toggleOrderEventsByData:function(){e({orderEventsByData:"none"===r().orderEventsByData?"desc":"desc"===r().orderEventsByData?"asc":(r().orderEventsByData,"none")}),e({filteredDatabaseByGroups:r().orderSubDatabase(r().filteredDatabaseByGroups)})},orderSubDatabase:function(e){var t=[],n=[],s=r().orderEventsByGroupsInvolved,a=r().orderEventsByData;return"none"===a&&"none"===s&&t.push("data")&&n.push("desc"),"none"!==a&&t.push("data")&&n.push(a),"none"!==s&&t.push((function(e){return(0,o.deburr)(e.label)}))&&n.push(s),(0,o.orderBy)(e,t,n)},orderDatabase:function(e){var t=[],n=[],s=r().orderByDate,a=r().orderByDegreeOfViolence,i=r().orderByEvents,l=r().orderByGroupsInvolved,u=r().orderByType;return"none"===s&&"none"===a&&"none"===i&&"none"===l&&"none"===u&&t.push("date")&&n.push("asc"),"none"!==s&&t.push((function(e){return"none"!==a||"none"!==i||"none"!==l||"none"!==u?c()(e.date).format("YYYY-MM"):e.date}))&&n.push(s),"none"!==a&&t.push((function(e){return e.degreViolence.replace(/.*\(/gim,"")}))&&n.push(a),"none"!==i&&t.push((function(e){return(0,o.deburr)(e.evenement)}))&&n.push(i),"none"!==l&&t.push((function(e){return e.groupeImplique.split("\n").map((function(e){return(0,o.deburr)(e)}))}))&&n.push(l),"none"!==u&&t.push((function(e){return(0,o.deburr)(e.type)}))&&n.push(u),n.length>1&&n.push("asc")&&t.push("_id"),(0,o.orderBy)(e,t,n)}}}(e,r)),function(e,r){return{id:"",setId:function(r){e({id:r})}}}(e))}))},9621:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/evenement/[id]",function(){return t(1576)}])}},function(e){e.O(0,[874,11,774,888,179],(function(){return r=9621,e(e.s=r);var r}));var r=e.O();_N_E=r}]);