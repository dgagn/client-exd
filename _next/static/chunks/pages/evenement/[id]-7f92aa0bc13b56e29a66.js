(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{908:function(e,r,n){"use strict";n.d(r,{Z:function(){return a}});var t=n(5893),s=(n(7294),n(4184)),o=n.n(s);function a(e){var r=e.children,n=e.onClick,s=e.isSelected,a=o()("rounded px-sm py-xs tag pointer",{"bg-contrast-100":s,"tag--selected":!s,"bg-error-200":!s});return(0,t.jsx)("li",{"aria-label":"Tag pour exclure ".concat(r),className:"mb-sm",children:(0,t.jsx)("button",{onClick:n,className:a,children:r})})}},1576:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return B},default:function(){return m}});var t=n(5893),s=n(7294),o=n(1664),a=n(7484),i=n.n(a),l=n(7989),u=n.n(l),c=n(908),d=n(4184),f=n.n(d),p=n(7856),y=n.n(p),v=n(1478),b=n(374),g=n(9008),h=function(e){return{filteredDatabase:e.filteredDatabase}},B=!0;function m(e){var r=e.entry,n=(0,s.useState)(null),a=n[0],l=n[1],d=(0,v.Z)(h,b.Z).filteredDatabase,p=(0,s.useState)(null),B=p[0],m=p[1],x=(0,s.useState)(null),D=x[0],j=x[1];(0,s.useEffect)((function(){var e=d.findIndex((function(e){return e._id===r._id})),n=d[e+1],t=d[e-1],s=n&&d[e+1]._id,o=t&&d[e-1]._id;m(s||null),j(o||null)}),[d,r._id]);var w=f()("",{"text-success-800":r.degreViolence.includes("Aucune"),"text-warning-800":r.degreViolence.includes("faible"),"text-caution-800":r.degreViolence.includes("moyenne"),"text-error-800":r.degreViolence.includes("\xc9lev\xe9e")}),O=f()("circle","mr-sm",{"bg-success-500":r.degreViolence.includes("Aucune"),"bg-warning-500":r.degreViolence.includes("faible"),"bg-caution-500":r.degreViolence.includes("moyenne"),"bg-error-500":r.degreViolence.includes("\xc9lev\xe9e")}),E=r.source.match(/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#\/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#\/%=~_|$?!:,.]*\)|[A-Z0-9+&@#\/%=~_|$])/gim);return(0,s.useEffect)((function(){var e=r.source;E&&E.forEach((function(r){e=e.replace(r,'<a href="'.concat(r,'" target="_blank" rel="noreferrer" class="text-bg-fx text-bg-fx--scale-y">').concat(r,"</a>"))}));var n=y()(window);l({__html:n.sanitize(e,{ADD_ATTR:["target"]})})}),[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.default,{children:(0,t.jsxs)("title",{children:["\xc9v\xe9nement - ",r.evenement]})}),(0,t.jsx)("div",{className:"p-xl mt-lg bg-article text-center",children:(0,t.jsxs)("div",{className:"blur p-xl max-w-md mx-auto my-auto text-contrast-50 bg-blur",children:[(0,t.jsx)("h2",{className:"text-contrast-50",children:r.evenement}),(0,t.jsx)("p",{className:"text-contrast-50 mt-sm text-center",children:i()(r.date).locale(u()).format("le D MMMM, YYYY")})]})}),(0,t.jsx)("div",{className:"container max-w-xl",children:(0,t.jsx)("div",{className:"mt-2xl mb-2xl",children:(0,t.jsxs)("div",{className:"max-w-prose mx-auto",children:[(0,t.jsxs)("div",{className:"flex space-around gap-y-md mb-2xl",children:[D?(0,t.jsx)(o.default,{href:"/evenement/".concat(D),passHref:!0,children:(0,t.jsxs)("a",{className:"button-reset text-contrast-900 link-fx-3--inverse flex-wrap",href:"#0",children:[(0,t.jsxs)("svg",{className:"icone",viewBox:"0 0 12 12","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{strokeWidth:1.5,x1:"3.5",y1:"6",x2:"9",y2:"11.5"}),(0,t.jsx)("line",{strokeWidth:1.5,x1:"9",y1:"0.5",x2:"3.5",y2:"6"})]}),(0,t.jsx)("span",{children:"\xc9v\xe9nement pr\xe9c\xe9dent"})]})}):(0,t.jsx)("div",{}),B&&(0,t.jsx)(o.default,{href:"/evenement/".concat(B),passHref:!0,children:(0,t.jsxs)("a",{className:"button-reset text-contrast-900 link-fx-3 flex-wrap",href:"#0",children:[(0,t.jsx)("span",{children:"\xc9v\xe9nement suivant"}),(0,t.jsxs)("svg",{className:"icone",viewBox:"0 0 12 12","aria-hidden":"true",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{strokeWidth:1.5,x1:"9",y1:"6",x2:"3.5",y2:"11.5"}),(0,t.jsx)("line",{strokeWidth:1.5,x1:"3.5",y1:"0.5",x2:"9",y2:"6"})]})]})})]}),(0,t.jsx)(o.default,{href:"/",passHref:!0,children:(0,t.jsx)("button",{className:"button-reset text-bg-fx text-bg-fx--scale-y",children:"Retour \xe0 l'accueil"})}),(0,t.jsx)("p",{className:"mt-lg",children:r.description}),(0,t.jsx)("ul",{className:"flex gap-x-md flex-wrap mt-md",children:r.groupeImplique.split("\n").map((function(e){return(0,t.jsx)(c.Z,{onClick:function(){},isSelected:!0,children:e},e)}))}),(0,t.jsxs)("div",{className:"my-sm",children:[r.type,""!==r.typeCrime?" / ".concat(r.typeCrime):null]}),(0,t.jsxs)("div",{className:w,children:[(0,t.jsx)("div",{className:O}),r.degreViolence]}),(0,t.jsx)("div",{className:"mt-sm",dangerouslySetInnerHTML:a})]})})})]})}},1478:function(e,r,n){"use strict";n.d(r,{Z:function(){return p}});var t=n(6265),s=n(4671),o=function(e,r){return{isDark:!1,toggleDarkMode:function(){e({isDark:!r().isDark})}}};var a=n(6486);function i(e,r){return{database:[],filteredDatabase:[],databaseByGroups:[],filteredDatabaseByGroups:[],setDatabaseByGroups:function(r){var n=function(e){return(0,a.uniq)((0,a.flatten)(e.map((function(e){return e.groupeImplique.split("\n")}))).map((function(e){return(0,a.trim)(e)})))}(r).map((function(e){return{data:(0,a.orderBy)(r.filter((function(r){return r.groupeImplique.includes(e)})),"data").length,label:e}}));e({databaseByGroups:n})},loadDatabase:function(r){return e({database:r,filteredDatabase:r})}}}function l(e){var r=e.database,n=e.filterSearch,t=e.date,s=e.degreeOfViolence,o=e.events,i=e.groupsInvolved,l=e.type;return r.filter((function(e){var r=(0,a.deburr)(e.evenement.toLowerCase()),u=(0,a.deburr)(e.groupeImplique.toLowerCase()),c=(0,a.deburr)(e.degreViolence.toLowerCase()),d=(0,a.deburr)(e.date.toLowerCase()),f=(0,a.deburr)(e.type.toLowerCase()),p=(0,a.trim)((0,a.deburr)(n.toLowerCase())),y=p.split(","),v=p.startsWith("!"),b=v?p.replace("!",""):p;return""===b||(y.length>1?y.map((function(e){var n=(0,a.deburr)((0,a.trim)(e)),p=n.startsWith("!"),y=p?n.replace("!",""):n;return""===y||(p?!r.includes(y)&&!u.includes(y)&&!c.includes(y)&&!d.includes(y)&&!f.includes(y):o&&r.includes(y)||i&&u.includes(y)||s&&c.includes(y)||t&&d.includes(y)||l&&f.includes(y))})).reduce((function(e,r){return e&&r})):v?!r.includes(b)&&!u.includes(b)&&!c.includes(b)&&!d.includes(b)&&!f.includes(b):o&&r.includes(b)||i&&u.includes(b)||s&&c.includes(b)||t&&d.includes(b)||l&&f.includes(b))}))}var u=n(7484),c=n.n(u);function d(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function f(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?d(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var p=(0,s.Z)((function(e,r){return f(f(f(f(f(f(f({},o(e,r)),function(e,r){return{filterSearch:"",setFilterSearch:function(r){e({filterSearch:r})},handleFilterSearch:function(e){r().setFilterSearch(e.target.value)},groupsFilterSearch:"",setGroupsFilterSearch:function(r){e({groupsFilterSearch:r})},handleGroupsFilterSearch:function(e){r().setGroupsFilterSearch(e.target.value)}}}(e,r)),i(e)),function(e,r){return{filterByDate:!0,filterByDegreeOfViolence:!0,filterByEvents:!0,filterByGroupsInvolved:!0,filterByType:!0,toggleFilterByDate:function(){return e({filterByDate:!r().filterByDate})},toggleFilterByDegreeOfViolence:function(){return e({filterByDegreeOfViolence:!r().filterByDegreeOfViolence})},toggleFilterByEvents:function(){return e({filterByEvents:!r().filterByEvents})},toggleFilterByGroupsInvolved:function(){return e({filterByGroupsInvolved:!r().filterByGroupsInvolved})},toggleFilterByType:function(){return e({filterByType:!r().filterByType})},filterDatabase:function(n){return e({filteredDatabase:r().orderDatabase(l(n))})},filterSubDatabase:function(){var n=r().groupsFilterSearch,t=r().databaseByGroups.filter((function(e){var r=(0,a.deburr)((0,a.trim)(e.label.toLowerCase())),t=(0,a.deburr)((0,a.trim)(n.toLowerCase()));return r.includes(t)}));e({filteredDatabaseByGroups:r().orderSubDatabase(t)})}}}(e,r)),function(e,r){return{resetFilters:function(){e({filterSearch:"",filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,filteredDatabase:r().database})}}}(e,r)),function(e,r){return{showMoreFilters:!1,toggleShowMoreFilters:function(){return e({showMoreFilters:!r().showMoreFilters})}}}(e,r)),function(e,r){return{orderByDate:"none",toggleOrderByDate:function(){e({orderByDate:"none"===r().orderByDate?"desc":"desc"===r().orderByDate?"asc":(r().orderByDate,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByDegreeOfViolence:"none",toggleOrderByDegreeOfViolence:function(){e({orderByDegreeOfViolence:"none"===r().orderByDegreeOfViolence?"desc":"desc"===r().orderByDegreeOfViolence?"asc":(r().orderByDegreeOfViolence,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByEvents:"none",toggleOrderByEvents:function(){e({orderByEvents:"none"===r().orderByEvents?"desc":"desc"===r().orderByEvents?"asc":(r().orderByEvents,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByGroupsInvolved:"none",toggleOrderByGroupsInvolved:function(){e({orderByGroupsInvolved:"none"===r().orderByGroupsInvolved?"desc":"desc"===r().orderByGroupsInvolved?"asc":(r().orderByGroupsInvolved,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByType:"none",toggleOrderByType:function(){e({orderByType:"none"===r().orderByType?"desc":"desc"===r().orderByType?"asc":(r().orderByType,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderEventsByGroupsInvolved:"none",toggleOrderEventsByGroupsInvolved:function(){e({orderEventsByGroupsInvolved:"none"===r().orderEventsByGroupsInvolved?"desc":"desc"===r().orderEventsByGroupsInvolved?"asc":(r().orderEventsByGroupsInvolved,"none")}),e({filteredDatabaseByGroups:r().orderSubDatabase(r().filteredDatabaseByGroups)})},orderEventsByData:"none",toggleOrderEventsByData:function(){e({orderEventsByData:"none"===r().orderEventsByData?"desc":"desc"===r().orderEventsByData?"asc":(r().orderEventsByData,"none")}),e({filteredDatabaseByGroups:r().orderSubDatabase(r().filteredDatabaseByGroups)})},orderSubDatabase:function(e){var n=[],t=[],s=r().orderEventsByGroupsInvolved,o=r().orderEventsByData;return"none"===o&&"none"===s&&n.push("data")&&t.push("desc"),"none"!==o&&n.push("data")&&t.push(o),"none"!==s&&n.push((function(e){return(0,a.deburr)(e.label)}))&&t.push(s),(0,a.orderBy)(e,n,t)},orderDatabase:function(e){var n=[],t=[],s=r().orderByDate,o=r().orderByDegreeOfViolence,i=r().orderByEvents,l=r().orderByGroupsInvolved,u=r().orderByType;return"none"===s&&"none"===o&&"none"===i&&"none"===l&&"none"===u&&n.push("date")&&t.push("asc"),"none"!==s&&n.push((function(e){return"none"!==o||"none"!==i||"none"!==l||"none"!==u?c()(e.date).format("YYYY-MM"):e.date}))&&t.push(s),"none"!==o&&n.push((function(e){return e.degreViolence.replace(/.*\(/gim,"")}))&&t.push(o),"none"!==i&&n.push((function(e){return(0,a.deburr)(e.evenement)}))&&t.push(i),"none"!==l&&n.push((function(e){return e.groupeImplique.split("\n").map((function(e){return(0,a.deburr)(e)}))}))&&t.push(l),"none"!==u&&n.push((function(e){return(0,a.deburr)(e.type)}))&&t.push(u),t.length>1&&t.push("asc")&&n.push("_id"),(0,a.orderBy)(e,n,t)}}}(e,r))}))},9621:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/evenement/[id]",function(){return n(1576)}])}},function(e){e.O(0,[662,337,774,888,179],(function(){return r=9621,e(e.s=r);var r}));var r=e.O();_N_E=r}]);