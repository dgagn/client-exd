(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2562:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return b},default:function(){return B}});var t=n(5893),o=n(7294),a=n(5152),c=n(9008),s=n(9803),d=n(374),i=(0,a.default)((function(){return Promise.all([n.e(874),n.e(716)]).then(n.bind(n,111))}),{loadableGenerated:{webpack:function(){return[111]},modules:["index.tsx -> ../components/search-input"]}}),u=(0,a.default)((function(){return Promise.all([n.e(874),n.e(424)]).then(n.bind(n,6033))}),{loadableGenerated:{webpack:function(){return[6033]},modules:["index.tsx -> ../components/database/database-table"]}}),l=(0,a.default)((function(){return n.e(509).then(n.bind(n,1509))}),{loadableGenerated:{webpack:function(){return[1509]},modules:["index.tsx -> ../components/show-more"]}}),f=(0,a.default)((function(){return n.e(523).then(n.bind(n,9523))}),{loadableGenerated:{webpack:function(){return[9523]},modules:["index.tsx -> ../components/show-more-filters"]}}),y=(0,a.default)((function(){return n.e(652).then(n.bind(n,7652))}),{loadableGenerated:{webpack:function(){return[7652]},modules:["index.tsx -> ../components/tags"]}}),p=function(e){return{filteredDatabase:e.filteredDatabase,loadDatabase:e.loadDatabase,database:e.database}},b=!0;function B(e){var r=e.database,n=(0,s.Z)(p,d.Z),a=n.filteredDatabase,b=n.loadDatabase,B=n.database;return(0,o.useEffect)((function(){b(r)}),[r,b]),console.log("render home"),B.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.default,{children:(0,t.jsx)("title",{children:"CEFIR - Accueil"})}),(0,t.jsx)("div",{className:"container max-w-xl",children:(0,t.jsxs)("div",{className:"mt-2xl mb-lg",children:[(0,t.jsxs)("h3",{children:[(0,t.jsxs)("span",{role:"img","aria-label":"Un pictogramme de recherche",children:["\ud83d\udd0d"," "]}),"Rechercher - ",null===a||void 0===a?void 0:a.length," ","r\xe9sultats"]}),(0,t.jsx)("p",{className:"mt-md mb-lg","aria-label":"Informations sur la recherche",children:"Par d\xe9faut, la recherche va inclure toutes les colonnes. Vous pouvez cliquer sur les balises pour les exclure."}),(0,t.jsx)(y,{}),(0,t.jsx)(i,{className:"mt-md"}),(0,t.jsx)(l,{}),(0,t.jsx)(f,{}),(0,t.jsx)(u,{database:a.slice(0,50),className:"mb-2xl"})]})})]}):null}},9803:function(e,r,n){"use strict";n.d(r,{Z:function(){return p}});var t=n(6265),o=n(7294);function a(e){let r;const n=new Set,t=(e,t)=>{const o="function"===typeof e?e(r):e;if(o!==r){const e=r;r=t?o:Object.assign({},r,o),n.forEach((n=>n(r,e)))}},o=()=>r,a={setState:t,getState:o,subscribe:(e,t,a)=>t||a?((e,t=o,a=Object.is)=>{let c=t(r);function s(){const n=t(r);if(!a(c,n)){const r=c;e(c=n,r)}}return n.add(s),()=>n.delete(s)})(e,t,a):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return r=e(t,o,a),a}const c="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?o.useEffect:o.useLayoutEffect;var s=function(e){const r="function"===typeof e?a(e):e,n=(e=r.getState,n=Object.is)=>{const[,t]=(0,o.useReducer)((e=>e+1),0),a=r.getState(),s=(0,o.useRef)(a),d=(0,o.useRef)(e),i=(0,o.useRef)(n),u=(0,o.useRef)(!1),l=(0,o.useRef)();let f;void 0===l.current&&(l.current=e(a));let y=!1;(s.current!==a||d.current!==e||i.current!==n||u.current)&&(f=e(a),y=!n(l.current,f)),c((()=>{y&&(l.current=f),s.current=a,d.current=e,i.current=n,u.current=!1}));const p=(0,o.useRef)(a);return c((()=>{const e=()=>{try{const e=r.getState(),n=d.current(e);i.current(l.current,n)||(s.current=e,l.current=n,t())}catch(e){u.current=!0,t()}},n=r.subscribe(e);return r.getState()!==p.current&&e(),n}),[]),y?f:l.current};return Object.assign(n,r),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const e=[n,r];return{next(){const r=e.length<=0;return{value:e.shift(),done:r}}}},n},d=n(6486);function i(e){var r=e.database,n=e.filterSearch,t=e.date,o=e.degreeOfViolence,a=e.events,c=e.groupsInvolved,s=e.type;return r.filter((function(e){var r=(0,d.deburr)(e.evenement.toLowerCase()),i=(0,d.deburr)(e.groupeImplique.toLowerCase()),u=(0,d.deburr)(e.degreViolence.toLowerCase()),l=(0,d.deburr)(e.date.toLowerCase()),f=(0,d.deburr)(e.type.toLowerCase()),y=(0,d.trim)((0,d.deburr)(n.toLowerCase())),p=y.split(","),b=y.startsWith("!"),B=b?y.replace("!",""):y;return""===B||(p.length>1?p.map((function(e){var n=(0,d.deburr)((0,d.trim)(e)),y=n.startsWith("!"),p=y?n.replace("!",""):n;return""===p||(y?(console.log(!r.includes(p)&&!i.includes(p)&&!u.includes(p)&&!l.includes(p)&&!f.includes(p)),!r.includes(p)&&!i.includes(p)&&!u.includes(p)&&!l.includes(p)&&!f.includes(p)):a&&r.includes(p)||c&&i.includes(p)||o&&u.includes(p)||t&&l.includes(p)||s&&f.includes(p))})).reduce((function(e,r){return e&&r})):b?!r.includes(B)&&!i.includes(B)&&!u.includes(B)&&!l.includes(B)&&!f.includes(B):a&&r.includes(B)||c&&i.includes(B)||o&&u.includes(B)||t&&l.includes(B)||s&&f.includes(B))}))}var u=function(e,r){return{orderDatabase:function(){var n=[],t=[];"none"!==r().orderByDate&&n.push((function(e){return"none"!==r().orderByDegreeOfViolence?new Date(e.date).getFullYear():e.date}))&&t.push(r().orderByDate),"none"!==r().orderByType&&n.push("type")&&t.push(r().orderByType),"none"!==r().orderByEvents&&n.push("evenement")&&t.push(r().orderByEvents),"none"!==r().orderByGroupsInvolved&&n.push("groupeImplique")&&t.push(r().orderByGroupsInvolved),"none"!==r().orderByDegreeOfViolence&&n.push((function(e){return e.degreViolence.replace(/.*\(/gim,"")}))&&t.push(r().orderByDegreeOfViolence),n.length<=0&&t.length<=0?e({filteredDatabase:i({database:r().database,filterSearch:r().filterSearch,events:r().filterByEvents,date:r().filterByDate,degreeOfViolence:r().filterByDegreeOfViolence,groupsInvolved:r().filterByGroupsInvolved,type:r().filterByType})}):e({filteredDatabase:(0,d.orderBy)(r().filteredDatabase,n,t)})},orderByDate:"none",toggleOrderByDate:function(){var n=r().orderByDate;"none"===n?(e({orderByDate:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByDate:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByDate:"none"}),r().orderDatabase())},orderByType:"none",toggleOrderByType:function(){var n=r().orderByType;"none"===n?(e({orderByType:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByType:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByType:"none"}),r().orderDatabase())},orderByDegreeOfViolence:"none",toggleOrderByDegreeOfViolence:function(){var n=r().orderByDegreeOfViolence;"none"===n?(e({orderByDegreeOfViolence:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByDegreeOfViolence:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByDegreeOfViolence:"none"}),r().orderDatabase())},orderByGroupsInvolved:"none",toggleOrderByGroupsInvolved:function(){var n=r().orderByGroupsInvolved;"none"===n?(e({orderByGroupsInvolved:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByGroupsInvolved:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByGroupsInvolved:"none"}),r().orderDatabase())},orderByEvents:"none",toggleOrderByEvents:function(){var n=r().orderByEvents;"none"===n?(e({orderByEvents:"desc"}),r().orderDatabase()):"desc"===n?(e({orderByEvents:"asc"}),r().orderDatabase()):"asc"===n&&(e({orderByEvents:"none"}),r().orderDatabase())},orderIncidentByYear:"none",toggleOrderIncidentByYear:function(){var n=r().orderIncidentByYear;"none"===n?e({orderIncidentByYear:"desc"}):"desc"===n?e({orderIncidentByYear:"asc"}):"asc"===n&&e({orderIncidentByYear:"none"})},orderYearByIncident:"none",toggleOrderYearByIncident:function(){var n=r().orderYearByIncident;"none"===n?e({orderYearByIncident:"desc"}):"desc"===n?e({orderYearByIncident:"asc"}):"asc"===n&&e({orderYearByIncident:"none"})},orderIncidentByGroup:"none",toggleOrderIncidentByGroup:function(){var n=r().orderIncidentByGroup;"none"===n?e({orderIncidentByGroup:"desc"}):"desc"===n?e({orderIncidentByGroup:"asc"}):"asc"===n&&e({orderIncidentByGroup:"none"})},orderGroupByIncident:"none",toggleOrderGroupByIncident:function(){var n=r().orderGroupByIncident;"none"===n?e({orderGroupByIncident:"desc"}):"desc"===n?e({orderGroupByIncident:"asc"}):"asc"===n&&e({orderGroupByIncident:"none"})}}},l=function(e,r){return{isDark:!1,toggleDarkMode:function(){e({isDark:!r().isDark})}}};function f(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function y(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?f(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var p=s((function(e,r){return y(y(y(y(y(y(y({},u(e,r)),l(e,r)),function(e,r){return{filterSearch:"",setFilterSearch:function(r){e({filterSearch:r})},handleFilterSearch:function(e){r().setFilterSearch(e.target.value)}}}(e,r)),function(e,r){return{database:[],filteredDatabase:[],loadDatabase:function(r){return e({database:r,filteredDatabase:r})}}}(e)),function(e,r){return{filterByDate:!0,filterByDegreeOfViolence:!0,filterByEvents:!0,filterByGroupsInvolved:!0,filterByType:!0,toggleFilterByDate:function(){return e({filterByDate:!r().filterByDate})},toggleFilterByDegreeOfViolence:function(){return e({filterByDegreeOfViolence:!r().filterByDegreeOfViolence})},toggleFilterByEvents:function(){return e({filterByEvents:!r().filterByEvents})},toggleFilterByGroupsInvolved:function(){return e({filterByGroupsInvolved:!r().filterByGroupsInvolved})},toggleFilterByType:function(){return e({filterByType:!r().filterByType})},filterDatabase:function(r){return e({filteredDatabase:i(r)})}}}(e,r)),function(e,r){return{resetFilters:function(){e({filterSearch:"",filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,filteredDatabase:r().database})}}}(e,r)),function(e,r){return{showMoreFilters:!1,toggleShowMoreFilters:function(){return e({showMoreFilters:!r().showMoreFilters})}}}(e,r))}))},5301:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2562)}])},374:function(e,r){"use strict";r.Z=function(e,r){if(Object.is(e,r))return!0;if("object"!==typeof e||null===e||"object"!==typeof r||null===r)return!1;const n=Object.keys(e);if(n.length!==Object.keys(r).length)return!1;for(let t=0;t<n.length;t++)if(!Object.prototype.hasOwnProperty.call(r,n[t])||!Object.is(e[n[t]],r[n[t]]))return!1;return!0}}},function(e){e.O(0,[662,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);