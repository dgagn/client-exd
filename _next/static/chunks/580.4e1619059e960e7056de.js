(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[580],{5580:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return d}});var n=t(5893),o=t(7294),a=t(1664),s=t(6893),i=t(7748),u=t(374),l=function(e){return{database:e.database}};function d(){var e=(0,o.useState)(!1),r=e[0],t=e[1];(0,i.Z)(l,u.Z).database;return(0,o.useEffect)((function(){document.body.setAttribute("data-theme",r?"dark":"light")}),[r]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"container max-w-xl mt-xl",children:(0,n.jsxs)("nav",{className:"nav",children:[(0,n.jsx)("img",{className:"logo",src:r?"/LogoCEFIR_1x_dark.webp":"/LogoCEFIR_1x.webp",srcSet:r?"/LogoCEFIR_1x_dark.webp 1x, /LogoCEFIR_2x_dark.webp 2x":"/LogoCEFIR_1x.webp 1x, /LogoCEFIR_2x.webp 2x",alt:"Logo CEFIR",loading:"lazy",width:118,height:64}),(0,n.jsxs)("ul",{className:"nav__list","aria-label":"Liens de navigation principal du CEFIR",children:[(0,n.jsx)("li",{"aria-label":"Lien vers l'accueil",children:(0,n.jsx)(a.default,{href:"/",passHref:!0,children:(0,n.jsx)("button",{className:"button-reset text-bg-fx text-bg-fx--scale-y",children:"Accueil"})})}),(0,n.jsx)("li",{"aria-label":"Lien vers les incidents par groupes",children:(0,n.jsx)(a.default,{href:"/evenementsParGroupe",children:(0,n.jsx)("button",{className:"button-reset text-bg-fx text-bg-fx--scale-y",children:"\xc9v\xe9nements par groupe"})})}),(0,n.jsx)("li",{"aria-label":"Lien vers les incidents par groupes",children:(0,n.jsx)(a.default,{href:"/evenementsParAnnee",children:(0,n.jsx)("button",{className:"button-reset text-bg-fx text-bg-fx--scale-y",children:"\xc9v\xe9nements par ann\xe9e"})})}),(0,n.jsx)("li",{children:(0,n.jsx)("button",{"aria-label":"Bouton pour changer de th\xe8me",onClick:function(){return t(!r)},className:"pointer",children:r?(0,n.jsx)(s.kXG,{}):(0,n.jsx)(s.wOW,{})})})]})]})})})}},7748:function(e,r,t){"use strict";t.d(r,{Z:function(){return p}});var n=t(6265),o=t(4671),a=function(e,r){return{isDark:!1,toggleDarkMode:function(){e({isDark:!r().isDark})}}};var s=t(6486);function i(e,r){return{database:[],filteredDatabase:[],databaseByGroups:[],filteredDatabaseByGroups:[],setDatabaseByGroups:function(r){var t=function(e){return(0,s.uniq)((0,s.flatten)(e.map((function(e){return e.groupeImplique.split("\n")}))).map((function(e){return(0,s.trim)(e)})))}(r).map((function(e){return{data:(0,s.orderBy)(r.filter((function(r){return r.groupeImplique.includes(e)})),"data").length,label:e}}));e({databaseByGroups:t})},loadDatabase:function(r){return e({database:r,filteredDatabase:r})}}}function u(e){var r=e.database,t=e.filterSearch,n=e.date,o=e.degreeOfViolence,a=e.events,i=e.groupsInvolved,u=e.type;return r.filter((function(e){var r=(0,s.deburr)(e.evenement.toLowerCase()),l=(0,s.deburr)(e.groupeImplique.toLowerCase()),d=(0,s.deburr)(e.degreViolence.toLowerCase()),c=(0,s.deburr)(e.date.toLowerCase()),f=(0,s.deburr)(e.type.toLowerCase()),p=(0,s.trim)((0,s.deburr)(t.toLowerCase())),y=p.split(","),b=p.startsWith("!"),v=b?p.replace("!",""):p;return""===v||(y.length>1?y.map((function(e){var t=(0,s.deburr)((0,s.trim)(e)),p=t.startsWith("!"),y=p?t.replace("!",""):t;return""===y||(p?!r.includes(y)&&!l.includes(y)&&!d.includes(y)&&!c.includes(y)&&!f.includes(y):a&&r.includes(y)||i&&l.includes(y)||o&&d.includes(y)||n&&c.includes(y)||u&&f.includes(y))})).reduce((function(e,r){return e&&r})):b?!r.includes(v)&&!l.includes(v)&&!d.includes(v)&&!c.includes(v)&&!f.includes(v):a&&r.includes(v)||i&&l.includes(v)||o&&d.includes(v)||n&&c.includes(v)||u&&f.includes(v))}))}var l=t(7484),d=t.n(l);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var p=(0,o.Z)((function(e,r){return f(f(f(f(f(f(f(f({},a(e,r)),function(e,r){return{filterSearch:"",setFilterSearch:function(r){e({filterSearch:r})},handleFilterSearch:function(e){r().setFilterSearch(e.target.value)},groupsFilterSearch:"",setGroupsFilterSearch:function(r){e({groupsFilterSearch:r})},handleGroupsFilterSearch:function(e){r().setGroupsFilterSearch(e.target.value)}}}(e,r)),i(e)),function(e,r){return{filterByDate:!0,filterByDegreeOfViolence:!0,filterByEvents:!0,filterByGroupsInvolved:!0,filterByType:!0,toggleFilterByDate:function(){return e({filterByDate:!r().filterByDate})},toggleFilterByDegreeOfViolence:function(){return e({filterByDegreeOfViolence:!r().filterByDegreeOfViolence})},toggleFilterByEvents:function(){return e({filterByEvents:!r().filterByEvents})},toggleFilterByGroupsInvolved:function(){return e({filterByGroupsInvolved:!r().filterByGroupsInvolved})},toggleFilterByType:function(){return e({filterByType:!r().filterByType})},filterDatabase:function(t){return e({filteredDatabase:r().orderDatabase(u(t))})},filterSubDatabase:function(){var t=r().groupsFilterSearch,n=r().databaseByGroups.filter((function(e){var r=(0,s.deburr)((0,s.trim)(e.label.toLowerCase())),n=(0,s.deburr)((0,s.trim)(t.toLowerCase()));return r.includes(n)}));e({filteredDatabaseByGroups:r().orderSubDatabase(n)})}}}(e,r)),function(e,r){return{resetFilters:function(){e({filterSearch:"",filterByDate:!0,filterByType:!0,filterByDegreeOfViolence:!0,filterByGroupsInvolved:!0,filterByEvents:!0,filteredDatabase:r().database,orderByDate:"none",orderByEvents:"none",orderByType:"none",orderByDegreeOfViolence:"none",orderByGroupsInvolved:"none"})}}}(e,r)),function(e,r){return{showMoreFilters:!1,toggleShowMoreFilters:function(){return e({showMoreFilters:!r().showMoreFilters})}}}(e,r)),function(e,r){return{orderByDate:"none",toggleOrderByDate:function(){e({orderByDate:"none"===r().orderByDate?"desc":"desc"===r().orderByDate?"asc":(r().orderByDate,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByDegreeOfViolence:"none",toggleOrderByDegreeOfViolence:function(){e({orderByDegreeOfViolence:"none"===r().orderByDegreeOfViolence?"desc":"desc"===r().orderByDegreeOfViolence?"asc":(r().orderByDegreeOfViolence,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByEvents:"none",toggleOrderByEvents:function(){e({orderByEvents:"none"===r().orderByEvents?"desc":"desc"===r().orderByEvents?"asc":(r().orderByEvents,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByGroupsInvolved:"none",toggleOrderByGroupsInvolved:function(){e({orderByGroupsInvolved:"none"===r().orderByGroupsInvolved?"desc":"desc"===r().orderByGroupsInvolved?"asc":(r().orderByGroupsInvolved,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderByType:"none",toggleOrderByType:function(){e({orderByType:"none"===r().orderByType?"desc":"desc"===r().orderByType?"asc":(r().orderByType,"none")}),e({filteredDatabase:r().orderDatabase(r().filteredDatabase)})},orderEventsByGroupsInvolved:"none",toggleOrderEventsByGroupsInvolved:function(){e({orderEventsByGroupsInvolved:"none"===r().orderEventsByGroupsInvolved?"desc":"desc"===r().orderEventsByGroupsInvolved?"asc":(r().orderEventsByGroupsInvolved,"none")}),e({filteredDatabaseByGroups:r().orderSubDatabase(r().filteredDatabaseByGroups)})},orderEventsByData:"none",toggleOrderEventsByData:function(){e({orderEventsByData:"none"===r().orderEventsByData?"desc":"desc"===r().orderEventsByData?"asc":(r().orderEventsByData,"none")}),e({filteredDatabaseByGroups:r().orderSubDatabase(r().filteredDatabaseByGroups)})},orderSubDatabase:function(e){var t=[],n=[],o=r().orderEventsByGroupsInvolved,a=r().orderEventsByData;return"none"===a&&"none"===o&&t.push("data")&&n.push("desc"),"none"!==a&&t.push("data")&&n.push(a),"none"!==o&&t.push((function(e){return(0,s.deburr)(e.label)}))&&n.push(o),(0,s.orderBy)(e,t,n)},orderDatabase:function(e){var t=[],n=[],o=r().orderByDate,a=r().orderByDegreeOfViolence,i=r().orderByEvents,u=r().orderByGroupsInvolved,l=r().orderByType;return"none"===o&&"none"===a&&"none"===i&&"none"===u&&"none"===l&&t.push("date")&&n.push("asc"),"none"!==o&&t.push((function(e){return"none"!==a||"none"!==i||"none"!==u||"none"!==l?d()(e.date).format("YYYY-MM"):e.date}))&&n.push(o),"none"!==a&&t.push((function(e){return e.degreViolence.replace(/.*\(/gim,"")}))&&n.push(a),"none"!==i&&t.push((function(e){return(0,s.deburr)(e.evenement)}))&&n.push(i),"none"!==u&&t.push((function(e){return e.groupeImplique.split("\n").map((function(e){return(0,s.deburr)(e)}))}))&&n.push(u),"none"!==l&&t.push((function(e){return(0,s.deburr)(e.type)}))&&n.push(l),n.length>1&&n.push("asc")&&t.push("_id"),(0,s.orderBy)(e,t,n)}}}(e,r)),function(e,r){return{id:"",setId:function(r){e({id:r})}}}(e))}))}}]);